const e=async()=>{let e;try{e=await fetch("https://67a7982f203008941f680c6c.mockapi.io/products/products").then(e=>e.json())}catch(t){e=t}return e},t=document.querySelector(".products-list"),c=e=>{let c=e.map(e=>`<li class="product-item" id="${e.id}">
            <p class="product-name">${e.name}</p>
            <p class="product-price">${e.price}</p>
            <p class="product-sort">${e.description}</p>
            <img src="${e.image}" class="product-img"></img>
            <button class="delete-btn" type="button">delete</button>
            <button class="edit-btn" type="button">edit</button>
        </li>`).join("");t.innerHTML=c},n=async e=>{try{return await fetch(`https://67a7982f203008941f680c6c.mockapi.io/products/products${e}`,{method:"DELETE"}).then(e=>e.json())}catch(e){console.log(e.message)}},o=async(e,t)=>{console.log(e,t);try{return await fetch(`https://67a7982f203008941f680c6c.mockapi.io/products/products${t}`,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>e.json())}catch(e){console.log(e.message)}},s=()=>{let t;document.querySelectorAll(".edit-btn").forEach(e=>{e.addEventListener("click",e=>{document.querySelector(".edit-modal").classList.remove("is-hidden"),t=e.target.parentElement.id})});let n=document.querySelector(".edit-form__info"),i=document.querySelector(".edit-modal");n.addEventListener("submit",async d=>{d.preventDefault(),i.classList.add("is-hidden");let r={name:`${n.elements.name.value}`,price:`${n.elements.price.value}`,description:`${n.elements.description.value}`,img:`${n.elements.img.value}`};await o(r,t).then(e=>console.log(e)),await e().then(e=>{c(e),a(),s()})}),document.querySelector(".close-edit-modal").addEventListener("click",()=>{document.querySelector(".edit-modal").classList.add("is-hidden")})},a=()=>{document.querySelectorAll(".delete-btn").forEach(t=>{t.addEventListener("click",()=>{n(t.parentElement.id).then(e=>e),e().then(e=>{c(e),a(),s()})})})};e().then(e=>{c(e),a(),s()});const i=document.querySelector(".open-modal"),d=document.querySelector(".close-modal"),r=document.querySelector(".modal");document.querySelector("body"),i.addEventListener("click",e=>{e.preventDefault(),r.classList.remove("is-hidden")}),d.addEventListener("click",e=>{e.preventDefault(),r.classList.add("is-hidden")});const l=async e=>{try{return await fetch("https://67a7982f203008941f680c6c.mockapi.io/products/products",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>e.json())}catch(e){console.log(e)}},u=document.querySelector(".form-info"),m=document.querySelector(".modal");u.addEventListener("submit",async t=>{t.preventDefault(),m.classList.add("is-hidden");let n={name:`${u.elements.name.value}`,price:`${u.elements.price.value}`,description:`${u.elements.description.value}`,img:`${u.elements.img.value}`};await l(n).then(e=>e),await e().then(e=>{c(e),a(),s()})});
//# sourceMappingURL=index.08a86309.js.map
